# 数据库管理器 (Database Manager)

一个功能完整的MySQL数据库可视化管理工具，类似于IDEA中的数据库操作界面。

## 功能特性

### 🗄️ 数据库连接管理
- 自动连接到Docker容器中的MySQL数据库
- 实时显示连接状态和数据库信息
- 支持连接测试和状态监控

### 📊 表管理
- **表列表浏览**: 显示所有数据库表及其基本信息
- **表信息查看**: 详细的表统计信息（行数、大小、引擎等）
- **表结构管理**: 查看和编辑表结构、列定义

### 🔍 数据浏览与编辑
- **分页浏览**: 支持大数据量的分页显示
- **搜索过滤**: 全文搜索和按列筛选
- **排序功能**: 按任意列进行升序/降序排列
- **在线编辑**: 双击单元格直接编辑数据
- **增删改查**: 完整的CRUD操作支持

### 🔧 SQL查询控制台
- **SQL编辑器**: 语法高亮的SQL编辑环境
- **查询模板**: 常用SQL语句模板库
- **查询历史**: 自动保存查询历史记录
- **结果导出**: 支持CSV/JSON格式导出

### 📋 表结构查看器
- **列信息**: 完整的列定义、类型、约束信息
- **索引管理**: 查看和管理表索引
- **外键约束**: 查看外键关系
- **DDL生成**: 生成和导出建表语句

## 使用方法

### 1. 访问数据库管理器
在主页面导航栏点击 "数据库管理" 或访问 `/database` 路径

### 2. 浏览表数据
1. 在表列表中选择要查看的表
2. 点击 "查看" 或切换到 "数据浏览" 标签页
3. 使用搜索框和筛选器查找特定数据
4. 双击单元格可直接编辑数据

### 3. 执行SQL查询
1. 切换到 "SQL查询" 标签页
2. 在编辑器中输入SQL语句
3. 按 Ctrl+Enter 或点击 "执行查询" 按钮
4. 查看结果并可导出数据

### 4. 管理表结构
1. 选择表后切换到 "表结构" 标签页
2. 查看列定义、索引、外键信息
3. 可以添加、修改、删除列
4. 导出DDL语句

## 技术架构

### 前端组件
```
DBsettings/
├── DatabaseManager.vue      # 主管理界面
├── TableDataViewer.vue      # 数据浏览组件
├── QueryConsole.vue         # SQL查询控制台
├── TableStructureViewer.vue # 表结构查看器
└── services/
    └── dbService.js         # 数据库服务API
```

### 后端API
```
/api/database/
├── /connection/test         # 连接测试
├── /tables                 # 获取表列表
├── /tables/{name}/info     # 表信息
├── /tables/{name}/data     # 表数据
├── /tables/{name}/columns  # 列信息
├── /tables/{name}/indexes  # 索引信息
├── /tables/{name}/ddl      # DDL语句
└── /query                  # SQL执行
```

## 配置信息

### 数据库连接
- **主机**: localhost (Docker容器内部)
- **端口**: 3307 (映射到宿主机)
- **数据库**: my_blog
- **用户**: root
- **密码**: root

### 支持的功能
- ✅ 表数据的增删改查
- ✅ SQL查询执行
- ✅ 表结构查看和修改
- ✅ 索引和外键管理
- ✅ 数据导出
- ✅ 查询历史
- ✅ 实时搜索和筛选

## 安全特性
- SQL注入防护
- 参数化查询
- 连接池管理
- 错误处理和日志记录

## 浏览器兼容性
- Chrome 88+
- Firefox 85+
- Safari 14+
- Edge 88+

## 使用提示

1. **数据编辑**: 双击单元格进入编辑模式，按Enter保存，Escape取消
2. **批量操作**: 可以通过SQL控制台执行批量操作
3. **性能优化**: 大表建议使用筛选和分页功能
4. **备份建议**: 在修改表结构前建议先导出DDL语句

## 故障排除

### 连接失败
1. 确保Docker容器正在运行
2. 检查数据库配置是否正确
3. 确认网络连接正常

### 查询超时
1. 检查SQL语句是否有性能问题
2. 为大表添加适当的索引
3. 使用LIMIT限制结果集大小

### 权限错误
1. 确认数据库用户有足够权限
2. 检查表的访问权限设置